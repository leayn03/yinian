# 一念 - 浅草寺御神签 Web 应用

> 禅意极简风格的 H5 摇签应用，基于日本东京浅草寺100签系统。

## 📱 项目介绍

一款现代化的网页版抽签应用，整合了日本浅草寺（Senso-ji）的传统御神签系统。用户可以通过手机摇一摇或点击按钮来抽签，获得签文解读和原版签文图片。

### 特色功能

- 🎲 **摇一摇抽签** - 手机加速度传感器检测
- 🍀 **100%吉祥签模式** - 只显示吉祥签（大吉、吉、半吉、小吉、末吉）
- 📸 **原版签文图片** - 浅草寺实拍签文正反面
- 🎨 **禅意极简设计** - 留白、淡雅配色、流畅动画
- 📜 **历史记录** - 本地保存抽签历史
- 🌏 **三语对照** - 日文原文 + 英文 + 中文解读

## 🚀 快速开始

### 启动本地服务器

```bash
cd omikuji
python3 -m http.server 8080
```

### 访问应用

- **电脑浏览器**：`http://localhost:8080`
- **手机浏览器**：`http://你的电脑IP:8080`

## 📁 项目结构

```
omikuji/
├── index.html                          # 主页面
├── css/
│   └── styles.css                      # 样式文件
├── js/
│   └── app.js                          # 应用逻辑（Vue.js 3）
├── data/
│   ├── senso-ji-fortunes-full.json    # 100条签文数据
│   └── senso-ji-omikuji-main/         # 签文图片（202张）
├── generate_fortunes.py                # 签文生成脚本
├── README.md                           # 项目说明
├── 浅草寺签文说明.md                   # 签文详细说明
└── 图片查看功能说明.md                 # 图片功能文档
```

## 🎯 核心功能

### 1. 签级体系（浅草寺标准）

| 签级 | 数量 | 占比 | 状态 |
|------|------|------|------|
| 大吉 | 17条 | 17% | ✅ 可抽 |
| 吉 | 35条 | 35% | ✅ 可抽 |
| 半吉 | 5条 | 5% | ✅ 可抽 |
| 小吉 | 4条 | 4% | ✅ 可抽 |
| 末吉 | 3条 | 3% | ✅ 可抽 |
| 凶 | 30条 | 30% | ❌ 已屏蔽 |
| 大凶 | 6条 | 6% | ❌ 已屏蔽 |

**当前配置**：64条吉祥签（100%好运模式）

### 2. 签文内容

每条签包含：
- 📸 浅草寺原版签文图片（正面 + 背面）
- 📝 日文签诗（四句）
- 🌏 英文翻译（背面图片）
- 🇨🇳 现代中文解读（事业、爱情、健康、建议）

### 3. 页面流程

```
启动页 → 许愿页 → 摇签页 → 签文详解页
                    ↓
                历史记录页
```

## 🎨 技术栈

- **Vue.js 3** - 前端框架（CDN引入）
- **原生 JavaScript** - 摇一摇检测（DeviceMotion API）
- **CSS3** - 禅意极简风格设计
- **LocalStorage** - 数据持久化
- **Python** - 签文生成脚本

## 📱 使用指南

### 在电脑上测试

1. 启动本地服务器
2. 打开 `http://localhost:8080`
3. 点击"点击模拟摇动"按钮抽签

### 在手机上测试

1. 确保手机和电脑在同一WiFi
2. 获取电脑IP地址：`ipconfig getifaddr en0` (Mac)
3. 手机浏览器访问：`http://电脑IP:8080`
4. 摇动手机即可抽签

### iOS 使用说明

- 使用 **Safari** 浏览器
- 首次摇动会请求运动传感器权限，点击"允许"
- 摇动手机即可抽签

### Android 使用说明

- 使用 **Chrome** 浏览器
- 直接摇动手机，无需额外权限

## 🔧 配置说明

### 修改摇动灵敏度

编辑 `js/app.js`：

```javascript
shakeThreshold: 25,  // 默认25，越小越灵敏
```

### 切换签级过滤模式

编辑 `js/app.js` 中的 `drawFortune()` 方法：

```javascript
// 当前：吉祥签模式
const luckyFortunes = this.allFortunes.filter(f =>
    f.level === '大吉' || f.level === '吉' ||
    f.level === '半吉' || f.level === '小吉' || f.level === '末吉'
);

// 选项1：超级吉祥模式（只要大吉和吉）
const luckyFortunes = this.allFortunes.filter(f =>
    f.level === '大吉' || f.level === '吉'
);

// 选项2：完整模式（显示所有签，包括凶签）
const luckyFortunes = this.allFortunes;
```

## 📊 数据来源

- **签文图片**：[fumiama/senso-ji-omikuji](https://github.com/fumiama/senso-ji-omikuji)
- **签文内容**：基于浅草寺传统签文，AI现代化改编
- **签级分布**：遵循浅草寺官方标准

## 🎭 关于浅草寺

浅草寺（Senso-ji）是东京最古老的寺庙，建于公元628年。其御神签系统是日本最著名的占卜方式之一，吸引着来自世界各地的游客。

**传统流程**：
1. 投入香钱（100日元）
2. 摇动签筒抽签
3. 根据签号取签文纸
4. 阅读签文和解释

**特别之处**：
- 浅草寺的凶签比例较高（约30%）
- 抽到凶签可以系在寺庙指定位置，寓意"留下厄运"
- 本应用采用100%吉祥签模式，为用户带来正能量

## 🌟 设计理念

本应用采用**禅意极简**设计风格：

- **配色**：米白背景 + 深灰文字 + 淡墨绿点缀
- **留白**：页面留白≥40%，营造呼吸感
- **动画**：克制的过渡效果，不过度炫技
- **字体**：系统字体，签文使用楷体

**核心价值观**：
- 🎯 积极正向 - 每次都是好运
- 🌟 心灵慰藉 - 提供精神支持
- 🍀 美好祝福 - 签文即是祝福

## 📈 后续计划

- [ ] 添加更多签文内容（扩展到其他寺庙）
- [ ] 支持多语言切换
- [ ] 添加音效和背景音乐
- [ ] 生成精美分享图片
- [ ] 统计抽签数据（签级分布）
- [ ] 添加每日一签推送功能
- [ ] 支持自定义签文主题

## 🐛 常见问题

### Q: 摇一摇不工作？
A: 确保使用手机浏览器（Safari/Chrome），不要在微信内置浏览器打开。iOS需要首次摇动时允许运动传感器权限。

### Q: 签文图片加载失败？
A: 确保使用本地服务器运行，不要直接打开HTML文件。检查 `data/senso-ji-omikuji-main/` 文件夹是否存在。

### Q: 为什么只有吉祥签？
A: 默认配置为100%吉祥签模式。如需显示所有签（包括凶签），请参考"配置说明"部分修改代码。

## 📄 开源协议

MIT License

## 🙏 致谢

- 浅草寺御神签系统
- [fumiama/senso-ji-omikuji](https://github.com/fumiama/senso-ji-omikuji) 项目
- Vue.js 社区
- 所有为传统文化传承做出贡献的人们

---

**愿每一次抽签，都能带给你美好的祝福！** 🎲✨
